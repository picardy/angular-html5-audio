{"version":3,"sources":["../src/Html5Audio.js","../src/buffer-utils.js","../src/context.js","../src/features.js","../src/mic.js","../src/process.js"],"names":[],"mappings":"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","file":"angular-html5-audio.js","sourcesContent":["\n  // filepath: src/Html5Audio.js\n  var app = angular.module('ngHTML5Audio', []);\n  \n  app.service('HTML5AudioFeatures', AudioFeatures);\n  app.service('HTML5AudioBufferUtils', BufferUtils);\n  app.service('HTML5AudioContext', AudioContextService);\n  app.service('HTML5AudioProcess', AudioProcesService);\n  app.service('HTML5AudioMic', AudioMicService);\n  \n  return app;","\n  // filepath: src/buffer-utils.js\n  function BufferUtils () {\n    return {\n      // returns a function that is to be used by a map to multiply a buffer\n      // by some amount\n      amplify: function (buffer, factor) {\n        return buffer.map(function (sample) {\n          return sample * factor;\n        });\n      },\n  \n      // get the average amplitude of a buffer in decibels.\n      // dB = 20 * log10(rms)\n      decibels: function (buffer) {\n        var rmsValue = this.rms(buffer);\n        return 20 * ( Math.log(rmsValue) / Math.log(10) );\n      },\n  \n      // downsample a buffer by a whole integer for use in a HPS.\n      downsample: function (buffer, size) {\n        if (size % 1 !== 0) {\n          throw 'BufferUtils.downsample() expects the size argument to be an integer.';\n        }\n  \n        var newBuffer = [];\n        for (var i = 0; i < buffer.length; i += size) {\n          newBuffer.push(buffer[i]);\n        }\n        return newBuffer;\n      },\n  \n      // apply a filter from an input buffer to an output buffer.\n      // filter function takes original sample, idx in buffer, channel number as args.\n      filter: function (inputBuffer, outputBuffer, filterFunction) {\n        // default is a passthrough\n        if (typeof filterFunction !== 'function') {\n          filterFunction = function passthrough (sample) {\n            return sample;\n          };\n        }\n  \n        // iterate through each channel. \n        for (var chan = 0; chan < inputBuffer.numberOfChannels; chan++) {\n          var inputChannel = inputBuffer.getChannelData(chan),\n              outputChannel = outputBuffer.getChannelData(chan),\n              i;\n  \n          // iterate through the input channel, applying the function to each\n          // index on the output channel\n          for (i = 0; i < inputChannel.length; i++) {\n            outputChannel[idx] = filterFunction(inputChannel[idx], idx, chan);\n          }\n        }\n      },\n      \n      // get root mean square of a buffer. used for measuring amplitude\n      rms: function (buffer) {\n        var sumOfSquares = buffer.reduce(function (s, x) {\n          return s + (x * x);\n        }, 0);\n        return Math.sqrt(sumOfSquares / buffer.length);\n      }\n    };\n  }","\n  // filepath: src/context.js\n  function AudioContextService (HTML5AudioFeatures, HTML5AudioProcess) {\n    var PROCESSOR_SAMPLE_SIZE = 4096;\n  \n    /**\n     * an object to wrap the AudioContext and assocated values with.\n     * @param stream {MediaStream} stream provided by getUserMedia\n     */\n    function Context (options) {\n      options = options || {};\n  \n      this.setupContext();\n  \n      this.size = options.size || PROCESSOR_SAMPLE_SIZE;\n      this.processors = {};\n  \n      if (options.stream) {\n        this.setStream(options.stream);\n      }\n    }\n  \n    Context.prototype.setupContext = function () {\n      this.context = new HTML5AudioFeatures.AudioContext();\n      this.destination = this.context.destination;\n      this.sampleRate = this.context.sampleRate;\n    }\n  \n    Context.prototype.setStream = function (stream) {\n      this.stream = stream;\n      this.source = this.context.createMediaStreamSource(this.stream);\n    }\n  \n    Context.prototype.createProcessor = function (name, options) {\n      if (this.processors.hasOwnProperty(name)) {\n        throw 'A processor named ' + name + ' is already attached to this context.';\n      }\n  \n      this.processors[name] = HTML5AudioProcess.createProcess(angular.extend({context: this}, options));\n  \n      return this.processors[name];\n    }\n  \n    this.Context = Context;\n    this.createContext = function (options) {\n      return new Context(options);\n    }\n  }\n  \n  AudioContextService.$inject = ['HTML5AudioFeatures', 'HTML5AudioProcess'];","\n  // filepath: src/features.js\n  function AudioFeatures () {\n    this.AudioContext = window.AudioContext || window.webkitAudioContext || window.mozAudioContext;\n    this.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n    this.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n  \n    if (this.getUserMedia) {\n      this.getUserMedia = angular.bind(navigator, this.getUserMedia);\n    }\n  \n    if (this.requestAnimationFrame) {\n      this.requestAnimationFrame = angular.bind(window, this.requestAnimationFrame);\n    }\n  \n    this.supported = function () {\n      return !!this.getUserMedia && !!this.AudioContext;\n    };\n  }","\n  // filepath: src/mic.js\n  function AudioMicService ($q, HTML5AudioFeatures) {\n    function Mic (options) {\n      options = options || {};\n  \n      this.streaming = false;\n      this.waiting = false;\n  \n      if (options.start) {\n        this.start();\n      }\n    }\n  \n    Mic.prototype.start = function () {\n      var d = $q.defer(),\n          mic = this;\n  \n      if (!HTML5AudioFeatures.supported()) {\n        throw 'Your device doesn\\'t support getUserMedia.';\n      }\n  \n      // already streaming\n      if (this.stream) {\n        if (!this.streaming) {\n          this.stream.start();\n        }\n        \n        d.resolve(this);\n        return;\n      }\n  \n      this.waiting = true;\n      HTML5AudioFeatures.getUserMedia({ audio: true },\n        function (stream) {\n          mic.stream = stream;\n          mic.streaming = true;\n          mic.waiting = false;\n          d.resolve(mic);\n        },\n        function (err) {\n          mic.streaming = false;\n          mic.waiting = false;\n          d.reject(err);\n        }\n      );\n  \n      return d.promise;\n    };\n  \n    Mic.prototype.stop = function () {\n      if (!this.stream) {\n        return;\n      }\n  \n      this.stream.stop();\n      delete this.stream;\n      this.streaming = false;\n      this.waiting = false;\n    }\n  \n    this.Mic = Mic;\n    this.createMic = function (options) {\n      return new Mic(options);\n    }\n  }\n  AudioMicService.$inject = ['$q', 'HTML5AudioFeatures'];\n  ","\n  // filepath: src/process.js\n  function AudioProcesService () {\n    /**\n     * an audio process to be chained as part of an HTML5 AudioContext. \n     * https://developer.mozilla.org/en-US/docs/Web/API/ScriptProcessorNode \n     *\n     * @param context {AudioContext} an HTML5 AudioContext\n     * @param options {Object} optional options that Processes can override\n     *   @option input\n     *   @option output\n     */\n    function Process (options) {\n      options = options || {};\n  \n      this.initialize = (typeof options.process === 'function') ? options.initialize : this.initialize;\n      this.process = (typeof options.process === 'function') ? options.process : this.process;\n      this.input = options.input;\n      this.output = options.output\n  \n      if (options.context) {\n        this.setContext(options.context);\n      }\n  \n      // use the setup function for our process\n      if (typeof this.initialize === 'function') {\n        this.initialize.apply(this, arguments);\n      }\n  \n      // if we passed an input, attach it.\n      this.connect(this.input, this.output);\n    }\n  \n    /**\n     * attach a context\n     * @param context {AudioContext} \n     */\n    Process.prototype.setContext = function (context) {\n      this.context = context;\n    };\n  \n    /**\n     * create a processor to be used by your process function\n     * @param event {AudioProcessingEvent} the event fired from the audiocontext.\n     */\n    Process.prototype.setupProcessor = function () {\n      if (!this.context) {\n        throw 'AudioProcessor.createProcessor needs a context to create a processor on.';\n      }\n  \n      this.processor = this.context.context.createScriptProcessor(this.context.size, 1, 1);\n      return this.processor;\n    };\n  \n    /**\n     * attach the processor to a given input. \n     * @param input {AudioContext} input for the processor to listen to.\n     * @param output {AudioContext} output for the processor to transmit to.\n     */\n    Process.prototype.connect = function (input, output) {\n      this.input = input || this.input;\n      this.output = output || this.output;\n  \n      if (!(this.input || this.output)) {\n        throw 'Before connecting, an input or an output must be specified.';\n      }\n      \n      this.setupProcessor();\n      this.processor.onaudioprocess = angular.bind(this, this.process);\n  \n      if (this.input) {\n        this.input.connect(this.processor);\n      }\n  \n      if (this.output) {\n        this.processor.connect(this.output);\n      }\n    };\n  \n    /**\n     * attach the processor to a given input. \n     * @param input {AudioContextInput} input for the processor to listen to.\n     */\n    Process.prototype.disconnect = function () {\n      if (!(this.input || this.output)) {\n        return;\n      }\n  \n      if (this.input) {\n        this.input.disconnect(this.processor);\n        delete this.input;\n      }\n  \n      if (this.output) {\n        this.processor.disconnect(this.output);\n        delete this.output;\n      }\n    };\n  \n    /**\n     * setup the process.\n     * @param options {Object} the object is a thing\n     */\n    Process.prototype.initialize = function (options) {\n      // this is a noop. override this function per in options.\n    };\n  \n    /**\n     * the function to be attached to onaudioprocess.\n     * @param event {AudioProcessingEvent} the event fired from the audiocontext.\n     */\n    Process.prototype.process = function (event) {\n      // this is a noop. override this function per in options.\n    };\n    \n    this.Process = Process;\n    this.createProcess = function (options) {\n      return new Process(options);\n    };\n  }"]}